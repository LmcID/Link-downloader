#!/bin/bash

# Tampilan Header RGB
clear
toilet -f slant "LINK DOWNLOADER" | lolcat
echo "By LMC ID" | lolcat
echo "═══════════════════════════════════════" | lolcat

# Pilih platform
echo -e "\nPilih sumber link:" | lolcat
echo "1. YouTube"
echo "2. Facebook"
echo "3. TikTok"
echo "4. Instagram"
echo "5. Pinterest"
echo "6. Lainnya (Link langsung)"

read -p $'\nMasukkan pilihan sumber [1-6]: ' sumber
read -p "Masukkan Link: " link

# Pilih format
echo -e "\nPilih format output:" | lolcat
echo "1. MP3"
echo "2. MP4"
echo "3. OGG"
echo "4. ZIP"

read -p $'\nMasukkan pilihan format [1-4]: ' format

# Cek folder
folder="$HOME/storage/downloads"
mkdir -p "$folder"

# Proses unduhan
echo -e "\nSedang mendownload..." | lolcat

case $format in
  1) yt-dlp -x --audio-format mp3 "$link" -o "$folder/%(title)s.%(ext)s" ;;
  2) yt-dlp -f mp4 "$link" -o "$folder/%(title)s.%(ext)s" ;;
  3) yt-dlp -x --audio-format ogg "$link" -o "$folder/%(title)s.%(ext)s" ;;
  4) 
    temp="$HOME/temp-download"
    mkdir -p "$temp"
    yt-dlp "$link" -o "$temp/%(title)s.%(ext)s"
    zip -r "$folder/downloaded.zip" "$temp"
    rm -rf "$temp"
    ;;
  *) echo "Format tidak valid" ;;
esac

echo -e "\nDownload selesai! Cek folder Downloads kamu." | lolcat
echo "═══════════════════════════════════════" | lolcat
